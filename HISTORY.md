# 개발 히스토리

이 문서에는 Jira AI Analyst 앱의 주요 개발 및 변경 내역이 기록되어 있습니다.

## 주요 기능 개발 및 개선

- **초기 AI 분석 기능 구현:**
  - 사용자가 업로드한 Excel 파일 또는 텍스트 데이터를 기반으로 Jira 이슈를 분석하고 요약 리포트를 생성하는 초기 AI 플로우를 구현했습니다.

- **AI 안정성 개선 (2단계 플로우 도입):**
  - AI가 복잡한 작업을 한 번에 처리하지 못하고 불안정한 JSON을 반환하는 문제를 해결하기 위해, 분석 과정을 2단계로 분리했습니다.
  - **1단계:** 각 이슈의 세부 내역(`issueBreakdown`) 생성.
  - **2단계:** 1단계 결과를 바탕으로 전체 요약(`summary`) 및 주요 조치 항목(`priorityActions`) 생성.
  - 이 구조 변경을 통해 AI 응답의 안정성과 신뢰도를 크게 향상시켰습니다.

- **사용자 맞춤 분석 기능 고도화:**
  - 사용자가 '분석 관점'을 직접 입력하거나, **10개의 구체적인 예시(예: '5월에 해결된 이슈', '주요 병목 구간') 중에서 선택**할 수 있는 콤보박스 UI로 개선했습니다.
  - AI가 **날짜 기반 검색(예: "지난 주", "2월"), 키워드, 담당자 등 복합적인 자연어 질의를 이해**하고, 그에 맞춰 데이터를 필터링하여 심층 분석 리포트를 생성하도록 AI 프롬프트를 대폭 강화했습니다. 이로써 사용자는 훨씬 더 정교하고 원하는 결과물을 얻을 수 있게 되었습니다.

- **한국어 지원 및 UI 현지화:**
  - 앱의 모든 UI 텍스트(버튼, 설명, 알림 등)를 자연스러운 한국어로 변경했습니다.
  - AI가 생성하는 모든 결과물(요약, 조치 항목, 개별 추천)이 한국어로 제공되도록 AI 프롬프트를 업데이트했습니다.

- **다중 프로젝트/컴포넌트 분석 기능 추가:**
  - 사용자가 쉼표(`,`)로 여러 프로젝트 키나 컴포넌트 이름을 한 번에 입력하여 동시에 분석할 수 있는 기능을 추가했습니다.
  - Jira 서비스 로직을 수정하여 `project IN (KEY1, KEY2, ...)` 및 `component IN (Comp1, Comp2, ...)` JQL 구문을 생성하도록 개선했습니다.

## 주요 버그 수정 및 워크플로우 개선

- **JSON 파싱 오류 해결:**
  - **문제:** `components` 필드가 없는 이슈를 처리할 때 `undefined.map is not a function` 오류가 발생하며 앱이 중단되는 문제.
  - **원인:** 일부 Jira 이슈 데이터에 `components` 필드가 아예 존재하지 않는 경우를 처리하지 못함.
  - **해결:** `jira-service.ts`에서 `components` 필드가 존재하는지 먼저 확인한 후에만 `.map()` 함수를 호출하도록 안전 장치를 추가하여 앱의 안정성을 높였습니다.

- **`404 Not Found` 오류 해결:**
  - **문제:** 사용자가 Jira 주소를 `http://jira.company.com`과 같이 입력했을 때 API 요청이 실패함.
  - **원인:** 많은 Jira 서버가 `/issue` 와 같은 특정 경로(Context Path) 하위에 설치되어 있기 때문.
  - **해결:** UI의 설명과 오류 메시지를 수정하여, 사용자가 브라우저에서 접속하는 전체 주소(예: `http://jira.company.com/issue`)를 정확히 입력하도록 명확하게 안내했습니다.

- **`401 Unauthorized` 인증 오류 해결:**
  - **문제:** 사용자가 올바른 인증 정보를 입력했음에도 불구하고 계속 인증 실패 오류가 발생.
  - **원인 분석:** 코드나 설정의 문제가 아니라, 사용자가 UI에 입력한 이메일 또는 API 토큰 값의 정확성 문제로 최종 판단. (오타, 복사 시 공백 포함 등)
  - **해결:** `README.md`에 **"401 인증 실패: 최종 점검 가이드"** 섹션을 추가하여, 사용자가 직접 문제를 해결할 수 있는 명확한 체크리스트(새 토큰 발급, 공백 제거 등)를 제공했습니다.

- **배포 환경 설정:**
  - 온라인 배포 시 필요한 Google AI API 키를 안전하게 관리할 수 있도록 `.env` 파일 및 관련 설명을 추가했습니다.

- **앱 정보 수정:**
  - 프로젝트 이름 및 설명을 'Jira AI Analyst'로 명확히 하여 검색 및 식별이 용이하도록 수정했습니다.

## 배포 준비

- **사용자 경험 단순화:**
  - 일반 사용자가 API 키를 발급받는 과정의 어려움을 고려하여, 개인 API 키를 입력하는 기능을 최종적으로 제거했습니다.
  - 이제 앱은 내장된 서버 키로만 동작하여, 모든 사용자가 설정 없이 즉시 앱을 사용할 수 있도록 단순화되었습니다.
- **프로젝트 구성:**
  - 안전한 배포를 위해 민감한 정보(예: `.env` 파일)를 Git에서 제외하는 `.gitignore` 파일을 추가했습니다.
  - 프로젝트의 일관성을 위해 `package.json`의 앱 이름을 `jira-ai-analyst`로 수정했습니다.
  - Firebase App Hosting을 사용한 배포 방법을 `README.md`에 명확하게 문서화하여 누구나 쉽게 따라 할 수 있도록 했습니다.
